<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <title>Open Shortest Path First (OSPF)</title>
  <link href="../vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css">
</head>
<body class="note-container">

  <main class="note-main">
    <h2 class="note-title text-center">Open Shortest Path First (OSPF)</h2>
    <p class="note-paragraph">
      OSPF adalah protokol routing <strong>IGP (Interior Gateway Protocol)</strong> berbasis <em>link-state</em> 
      yang digunakan untuk mendistribusikan informasi routing di dalam satu Autonomous System (AS).  
      OSPF menggunakan algoritma <strong>Dijkstra (Shortest Path First)</strong> untuk menentukan jalur terbaik.  
      Protokol ini mendukung jaringan skala besar, multi-area, dan konvergensi cepat.
    </p>

    <h3 class="note-subtitle">Karakteristik OSPF</h3>
    <ul class="note-list">
      <li>Termasuk dalam kategori <em>link-state routing protocol</em>.</li>
      <li>Menggunakan protokol transport IP (protocol number 89).</li>
      <li>Konvergensi cepat dibandingkan RIP.</li>
      <li>Mendukung VLSM/CIDR.</li>
      <li>Mendukung konsep area untuk segmentasi routing.</li>
    </ul>

    <h3 class="note-subtitle">Istilah Penting</h3>
    <ul class="note-list">
      <li><strong>Router ID:</strong> Identitas unik router OSPF (format IP address).</li>
      <li><strong>Area:</strong> Segmentasi jaringan OSPF untuk mengurangi LSDB dan beban CPU.</li>
      <li><strong>Backbone Area (Area 0):</strong> Area inti yang menghubungkan semua area lain.</li>
      <li><strong>LSA (Link State Advertisement):</strong> Pesan yang menginformasikan status link.</li>
      <li><strong>LSDB (Link State Database):</strong> Database topologi jaringan di tiap router.</li>
      <li><strong>SPF Tree:</strong> Struktur pohon jalur terpendek hasil perhitungan algoritma Dijkstra.</li>
    </ul>

    <h3 class="note-subtitle">Tipe Router di OSPF</h3>
    <ul class="note-list">
      <li><strong>Internal Router:</strong> Semua interface berada dalam satu area.</li>
      <li><strong>Backbone Router:</strong> Terhubung ke Area 0.</li>
      <li><strong>Area Border Router (ABR):</strong> Menghubungkan Area 0 dengan area lain.</li>
      <li><strong>Autonomous System Boundary Router (ASBR):</strong> Menghubungkan OSPF dengan protokol routing lain.</li>
    </ul>

    <h3 class="note-subtitle">Proses Kerja OSPF</h3>
    <ol class="note-list">
      <li>Router membentuk hubungan tetangga (<em>adjacency</em>) dengan OSPF Hello packet.</li>
      <li>Menukar informasi LSA untuk membangun LSDB.</li>
      <li>Menghitung jalur terpendek menggunakan algoritma Dijkstra.</li>
      <li>Mengisi routing table dengan rute terbaik.</li>
    </ol>

    <h3 class="note-subtitle">Tipe LSA Umum</h3>
    <ul class="note-list">
      <li><strong>Type 1:</strong> Router LSA – informasi link di dalam area.</li>
      <li><strong>Type 2:</strong> Network LSA – informasi jaringan multi-access.</li>
      <li><strong>Type 3:</strong> Summary LSA – ringkasan rute antar-area.</li>
      <li><strong>Type 5:</strong> AS External LSA – rute dari luar OSPF AS.</li>
    </ul>

    <h3 class="note-subtitle">Keunggulan OSPF</h3>
    <ul class="note-list">
      <li>Konvergensi cepat.</li>
      <li>Mendukung load balancing dengan cost yang sama (ECMP).</li>
      <li>Dapat dioptimalkan dengan pembagian area.</li>
      <li>Mendukung autentikasi (plaintext dan MD5).</li>
    </ul>

    <h3 class="note-subtitle">CONTOH KASUS</h3>
    <ul class="note-list">
      <li>Tujuan: Mengimplementasikan <strong>OSPF multi-area</strong> pada jaringan MikroTik untuk mendistribusikan routing dinamis antar-router.</li>
      <li>Topologi: Jaringan terdiri dari 7 router (R1-R7) dengan beberapa area OSPF:
        <ul>
          <li>Area backbone (0.0.0.0) menghubungkan R1, R2, R3</li>
          <li>Area2 (2.2.2.2) menghubungkan R2, R6, R7</li>
          <li>Area3 (3.3.3.3) menghubungkan R3, R4, R5</li>
        </ul>
      </li>
      <li>Catatan:
        <ul>
          <li>Setiap router memiliki IP unik untuk setiap interface yang terhubung ke jaringan point-to-point.</li>
          <li>Interface ditambahkan ke OSPF sesuai area masing-masing.</li>
          <li>Network mapping dilakukan agar OSPF mengetahui subnet yang termasuk dalam setiap area.</li>
          <li>Router diberi identitas unik dengan <code>/system identity</code> agar mudah diidentifikasi.</li>
          <li>R1 juga mengatur NAT dan default route ke gateway internet untuk koneksi keluar.</li>
          <li>DNS di beberapa router diset ke Google DNS (8.8.8.8 & 8.8.4.4) agar client dapat resolve nama domain.</li>
        </ul>
      </li>
    </ul>



    <img src="img/ospf.png" alt="Diagram jaringan" class="note-image" />
    
    <p class="note-subtitle">RB1</p>
    <pre class="note-codeblock"><code>
/ip address
add address=10.1.1.1/30 interface=ether1 network=10.1.1.0
add address=11.1.1.1/30 interface=ether2 network=11.1.1.0
add address=192.168.190.3/24 interface=ether5 network=192.168.190.0  # LAN ke ISP

/ip dns
set servers=8.8.8.8,8.8.4.4

/ip firewall nat
add action=masquerade chain=srcnat out-interface=ether5  # NAT ke internet

/ip route
add distance=1 gateway=192.168.190.1

/routing ospf interface
add interface=ether1
add interface=ether2

/routing ospf network
add area=backbone network=10.1.1.0/30
add area=backbone network=11.1.1.0/30

/system identity
set name=R1
    </code></pre>
    
    <p class="note-subtitle">RB2</p>
    <pre class="note-codeblock"><code>
/routing ospf area
add area-id=2.2.2.2 name=area2

/ip address
add address=10.1.1.2/30 interface=ether1 network=10.1.1.0
add address=12.1.1.1/30 interface=ether2 network=12.1.1.0
add address=16.1.1.1/30 interface=ether3 network=16.1.1.0
add address=17.1.1.1/30 interface=ether4 network=17.1.1.0

/routing ospf interface
add interface=ether1
add interface=ether2
add interface=ether3
add interface=ether4

/routing ospf network
add area=backbone network=10.1.1.0/30
add area=backbone network=12.1.1.0/30
add area=area2 network=16.1.1.0/30
add area=area2 network=17.1.1.0/30

/system identity
set name=R2
    </code></pre>
    
    <p class="note-subtitle">RB3</p>
    <pre class="note-codeblock"><code>
/routing ospf area
add area-id=3.3.3.3 name=area3

/ip address
add address=11.1.1.2/30 interface=ether1 network=11.1.1.0
add address=12.1.1.2/30 interface=ether2 network=12.1.1.0
add address=13.1.1.1/30 interface=ether3 network=13.1.1.0
add address=14.1.1.1/30 interface=ether4 network=14.1.1.0

/routing ospf interface
add interface=ether1
add interface=ether2
add interface=ether3
add interface=ether4

/routing ospf network
add area=backbone network=11.1.1.0/30
add area=backbone network=12.1.1.0/30
add area=area3 network=13.1.1.0/30
add area=area3 network=14.1.1.0/30

/system identity
set name=R3
    </code></pre>
    
    <p class="note-subtitle">RB4</p>
    <pre class="note-codeblock"><code>
/ip address
add address=13.1.1.2/30 interface=ether1 network=13.1.1.0
add address=15.1.1.1/30 interface=ether2 network=15.1.1.0

/routing ospf interface
add interface=ether1
add interface=ether2

/routing ospf network
add area=area3 network=13.1.1.0/30
add area=area3 network=15.1.1.0/30

/system identity
set name=R4
    </code></pre>
    
    <p class="note-subtitle">RB5</p>
    <pre class="note-codeblock"><code>
/routing ospf area
add area-id=3.3.3.3 name=area3

/ip address
add address=14.1.1.2/30 interface=ether1 network=14.1.1.0
add address=15.1.1.2/30 interface=ether2 network=15.1.1.0
add address=192.168.2.1/30 interface=ether3 network=192.168.2.0

/routing ospf interface
add interface=ether1
add interface=ether2

/routing ospf network
add area=area3 network=14.1.1.0/30
add area=area3 network=15.1.1.0/30
add area=area3 network=192.168.2.0/30

/system identity
set name=R5
    </code></pre>
    
    <p class="note-subtitle">RB6</p>
    <pre class="note-codeblock"><code>
/routing ospf area
add area-id=2.2.2.2 name=area2

/ip address
add address=16.1.1.2/30 interface=ether1 network=16.1.1.0
add address=18.1.1.1/30 interface=ether2 network=18.1.1.0

/routing ospf interface
add interface=ether1
add interface=ether2

/routing ospf network
add area=area2 network=16.1.1.0/30
add area=area2 network=18.1.1.0/30

/system identity
set name=R6
    </code></pre>
    
    <p class="note-subtitle">RB7</p>
    <pre class="note-codeblock"><code>
/routing ospf area
add area-id=2.2.2.2 name=area2

/ip address
add address=17.1.1.2/30 interface=ether1 network=17.1.1.0
add address=18.1.1.2/30 interface=ether2 network=18.1.1.0
add address=192.168.1.1/30 interface=ether3 network=192.168.1.0

/ip dns
set servers=8.8.8.8,8.8.4.4

/ip firewall nat
add action=masquerade chain=srcnat disabled=yes out-interface=ether1
add action=masquerade chain=srcnat disabled=yes out-interface=ether2

/routing ospf interface
add interface=ether1
add interface=ether2

/routing ospf network
add area=area2 network=17.1.1.0/30
add area=area2 network=18.1.1.0/30
add area=area2 network=192.168.1.0/30

/system identity
set name=R7
    </code></pre>
    <h3 class="note-subtitle">Ringkasan</h3>
    <p class="note-paragraph">
      OSPF adalah protokol routing IGP yang efisien, scalable, dan handal. Dengan dukungan multi-area, 
      OSPF dapat digunakan pada jaringan enterprise hingga ISP untuk memastikan rute optimal dengan konvergensi cepat.
    </p>

    <hr class="note-divider" />
  </main>

  <script>
    document.querySelectorAll('.note-image').forEach(img => {
      img.addEventListener('click', () => img.classList.toggle('expanded'));
    });
  </script>
</body>
</html>
