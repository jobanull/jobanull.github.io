<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <title>Intermediate System to Intermediate System (IS-IS)</title>
  <link href="../vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css">
</head>
<body class="note-container">

  <main class="note-main">
    <h2 class="note-title text-center">Intermediate System to Intermediate System (IS-IS)</h2>
    <p class="note-paragraph">
      IS-IS adalah protokol routing <strong>link-state</strong> yang digunakan untuk mendistribusikan informasi routing di dalam 
      <em>autonomous system</em>. Awalnya dikembangkan untuk jaringan OSI, namun diperluas untuk mendukung IPv4 dan IPv6 
      (<strong>Integrated IS-IS</strong>).  
    </p>

    <h3 class="note-subtitle">Karakteristik Utama</h3>
    <ul class="note-list">
      <li><strong>Tipe Protokol:</strong> Link-State (mirip OSPF).</li>
      <li><strong>Standar:</strong> ISO/IEC 10589.</li>
      <li><strong>Metric:</strong> Cost (default = 10 per link, dapat diubah).</li>
      <li><strong>Transport:</strong> langsung via Layer 2 (CLNS), bukan di atas IP.</li>
      <li><strong>Hierarki:</strong> Level 1 (intra-area) dan Level 2 (inter-area).</li>
    </ul>

    <h3 class="note-subtitle">Terminologi Penting</h3>
    <ul class="note-list">
      <li><strong>Intermediate System (IS):</strong> router.</li>
      <li><strong>End System (ES):</strong> host.</li>
      <li><strong>Area:</strong> domain logis untuk mengelompokkan router.</li>
      <li><strong>NET (Network Entity Title):</strong> alamat ID unik router dalam format NSAP.</li>
    </ul>

    <h3 class="note-subtitle">Struktur Hierarki</h3>
    <ul class="note-list">
      <li><strong>Level 1:</strong> Router hanya tahu topologi area sendiri; default route ke Level 2 untuk keluar area.</li>
      <li><strong>Level 2:</strong> Router tahu topologi semua area dan bertindak sebagai backbone.</li>
      <li><strong>L1/L2:</strong> Router yang menjalankan keduanya, sebagai penghubung area.</li>
    </ul>

    <h3 class="note-subtitle">Tipe PDU (Protocol Data Unit)</h3>
    <ul class="note-list">
      <li><strong>IIH (IS-IS Hello):</strong> membentuk dan memelihara adjacency.</li>
      <li><strong>LSP (Link-State PDU):</strong> membawa informasi topologi.</li>
      <li><strong>CSNP (Complete Sequence Number PDU):</strong> ringkasan LSP pada awal sinkronisasi.</li>
      <li><strong>PSNP (Partial Sequence Number PDU):</strong> permintaan LSP tertentu.</li>
    </ul>

    <h3 class="note-subtitle">IS-IS vs OSPF</h3>
    <ul class="note-list">
      <li>IS-IS bekerja langsung di Layer 2; OSPF di Layer 3 (IP).</li>
      <li>IS-IS skalabilitas tinggi untuk ISP; OSPF lebih umum di enterprise.</li>
      <li>Konsep area di IS-IS lebih sederhana (backbone = semua Level 2).</li>
    </ul>

    <h3 class="note-subtitle">CONTOH KASUS</h3>
    <ul class="note-list">
        <li>Topologi menggunakan protokol routing <b>IS-IS</b> pada tiga router MikroTik (RB1, RB2, RB3).</li>
        <li>RB1:
            <ul>
                <li>IP: <code>192.168.1.1/30</code>, <code>10.10.1.1/30</code>, <code>10.10.2.1/30</code>.</li>
                <li>System-ID: <code>0000.0000.0001</code>, Level-1 & Level-2.</li>
            </ul>
        </li>
        <li>RB2:
            <ul>
                <li>IP: <code>192.168.2.1/30</code>, <code>10.10.1.2/30</code>, <code>10.10.3.1/30</code>.</li>
                <li>System-ID: <code>0000.0000.0002</code>, Level-1.</li>
            </ul>
        </li>
        <li>RB3:
            <ul>
                <li>IP: <code>192.168.3.1/30</code>, <code>10.10.2.2/30</code>, <code>10.10.3.2/30</code>.</li>
                <li>System-ID: <code>0000.0000.0003</code>, Level-1.</li>
            </ul>
        </li>
        <li>Tujuan: Menghubungkan semua router menggunakan IS-IS untuk pertukaran routing.</li>
    </ul>


    <img src="img/isis.png" alt="Diagram jaringan" class="note-image" />
    
    <p class="note-subtitle">RB1</p>
    <pre class="note-codeblock"><code>
/routing isis instance
add afi=ip areas=49.0001 disabled=no l1.originate-default=always l2.originate-default=always name=isis-instance-1 system-id=0000.0000.0001   # Membuat instance IS-IS dengan System-ID 0000.0000.0001 (Area 49.0001), advertise default route di L1 & L2

/ip address
add address=192.168.1.1/30 interface=ether5 network=192.168.1.0   # IP link RB1 ↔ RB2
add address=10.10.1.1/30 interface=ether2 network=10.10.1.0       # IP link RB1 ↔ RB2 (jalur lain)
add address=10.10.2.1/30 interface=ether4 network=10.10.2.0       # IP link RB1 ↔ RB3

/ip dhcp-client
add interface=ether1                                               # DHCP client untuk interface WAN (akses internet)

/ip firewall nat
add action=masquerade chain=srcnat out-interface=ether1            # NAT keluar via ether1 ke internet

/routing isis interface-template
add instance=isis-instance-1 interfaces=ether1 levels=l2           # ether1 (WAN) jadi Level-2 IS-IS (eksternal domain)

/routing isis interface-template
add instance=isis-instance-1 interfaces=ether5,ether2,ether4 levels=l1   # Interface internal (LAN) jadi Level-1 IS-IS

/system identity
set name=RB1                                                       # Set nama router = RB1
    </code></pre>
    
    <p class="note-subtitle">RB2</p>
    <pre class="note-codeblock"><code>
/routing isis instance
add afi=ip areas=49.0001 name=isis-instance-1 system-id=0000.0000.0002   # Membuat instance IS-IS dengan System-ID 0000.0000.0002 (Area 49.0001)

/ip address
add address=192.168.2.1/30 interface=ether5 network=192.168.2.0          # IP link RB2 ↔ RB3
add address=10.10.1.2/30 interface=ether2 network=10.10.1.0              # IP link RB2 ↔ RB1
add address=10.10.3.1/30 interface=ether3 network=10.10.3.0              # IP link RB2 ↔ RB3

/routing isis interface-template
add instance=isis-instance-1 interfaces=ether2,ether3,ether5 levels=l1   # Semua interface internal jadi Level-1 IS-IS

/system identity
set name=RB2                                                             # Set nama router = RB2
    </code></pre>
    
    <p class="note-subtitle">RB3</p>
    <pre class="note-codeblock"><code>
/routing isis instance
add afi=ip areas=49.0001 name=isis-instance-1 system-id=0000.0000.0003   # Membuat instance IS-IS dengan System-ID 0000.0000.0003 (Area 49.0001)

/ip address
add address=192.168.3.1/30 interface=ether5 network=192.168.3.0          # IP link RB3 ↔ RB1
add address=10.10.2.2/30 interface=ether4 network=10.10.2.0              # IP link RB3 ↔ RB1
add address=10.10.3.2/30 interface=ether3 network=10.10.3.0              # IP link RB3 ↔ RB2

/routing isis interface-template
add instance=isis-instance-1 interfaces=ether5,ether3,ether4 levels=l1   # Semua interface internal jadi Level-1 IS-IS

/system identity
set name=RB3                                                             # Set nama router = RB3
    </code></pre>

    <h3 class="note-subtitle">Best Practice</h3>
    <ul class="note-list">
      <li>Gunakan <strong>metric-style wide</strong> untuk mendukung nilai metric besar.</li>
      <li>Pisahkan area untuk membatasi LSDB dan mempercepat konvergensi.</li>
      <li>Aktifkan <strong>authentication</strong> (MD5 atau HMAC-SHA) di link IS-IS.</li>
      <li>Monitoring via <code>show isis neighbors</code> dan <code>show clns interface</code>.</li>
    </ul>

    <h3 class="note-subtitle">Ringkasan</h3>
    <p class="note-paragraph">
      IS-IS adalah protokol routing link-state yang sangat stabil dan efisien untuk skala besar, banyak digunakan
      oleh ISP dan backbone provider. Sifatnya yang bekerja langsung di Layer 2 membuatnya fleksibel untuk
      membawa berbagai protokol jaringan, termasuk IPv4 dan IPv6.
    </p>

    <hr class="note-divider" />
  </main>

  <script>
    // placeholder interaksi untuk konsistensi
    document.querySelectorAll('.note-image').forEach(img => {
      img.addEventListener('click', () => img.classList.toggle('expanded'));
    });
  </script>
</body>
</html>
